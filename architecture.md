# Quant_A_Share_V2.0 æ¶æ„è¯´æ˜

> æœ€åæ›´æ–°: 2025-01-19 | ç‰ˆæœ¬: V2.2

---

## ğŸ“Š é¡¹ç›®å·¥ä½œæµç”˜ç‰¹å›¾

```mermaid
gantt
    title Quant_A_Share_V2.0 å®Œæ•´å·¥ä½œæµ
    dateFormat YYYY-MM-DD
    
    section 1ï¸âƒ£ æ•°æ®è·å–
    åˆå§‹åŒ–è‚¡ç¥¨æ±            :a1, 2024-01-01, 1d
    ä¸‹è½½å†å²æ•°æ®           :a2, after a1, 1d
    å¢é‡æ›´æ–°æ•°æ®           :a3, after a2, 1d
    è‡ªåŠ¨åŒ–è¿è¡Œ             :a4, after a3, 1d
    
    section 2ï¸âƒ£ ç‰¹å¾å·¥ç¨‹
    ç”Ÿæˆç‰¹å¾ä¸æ ‡ç­¾         :b1, after a3, 2d
    æ•°æ®æ¸…æ´—ä¸è´¨æ£€         :b2, after b1, 1d
    ç‰¹å¾ä¸­æ€§åŒ–             :b3, after b2, 1d
    
    section 3ï¸âƒ£ æ¨¡å‹è®­ç»ƒ
    å•æ¬¡è®­ç»ƒ               :c1, after b3, 1d
    Walk-Forwardæ»šåŠ¨è®­ç»ƒ   :c2, after b3, 3d
    æ¨ç†æ›´æ–°               :c3, after c2, 1d
    
    section 4ï¸âƒ£ åˆ†æéªŒè¯
    EDAæ¢ç´¢æ€§åˆ†æ          :d1, after c2, 1d
    å› å­åˆ†æ               :d2, after c2, 1d
    æ—¶é—´è¡°å‡åˆ†æ           :d3, after c2, 1d
    æ¨¡å‹è§£é‡Š               :d4, after c2, 1d
    è¿‡æ‹Ÿåˆæ£€æµ‹             :d5, after c2, 1d
    è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ           :d6, after c2, 1d
    å‹åŠ›æµ‹è¯•               :d7, after c2, 1d
    ä¿¡å·è¯Šæ–­               :d8, after c2, 1d
    
    section 5ï¸âƒ£ å›æµ‹ä¸æ¨è
    å†å²å›æµ‹               :e1, after d7, 1d
    ç”Ÿæˆæ¨èåˆ—è¡¨           :e2, after e1, 1d
    
    section 6ï¸âƒ£ å®ç›˜äº¤æ˜“
    æ£€æŸ¥é›ªçƒCookie         :f1, after e2, 1d
    å‘¨åº¦è°ƒä»“               :f2, after f1, 1d
    è‡ªåŠ¨äº¤æ˜“               :f3, after f2, 1d
    
    section 7ï¸âƒ£ è¾…åŠ©å·¥å…·
    TensorBoardç›‘æ§        :g1, after c1, 1d
    é£é™©åŒæ¶ç³»æ•°ä¼˜åŒ–       :g2, after e1, 1d
```

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
Quant_A_Share_V2.0/
â”œâ”€â”€ config/                          # é…ç½®ä¸­å¿ƒ
â”‚   â””â”€â”€ main.yaml                   # ç»Ÿä¸€é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ data/                            # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ raw/                        # åŸå§‹è¡Œæƒ…æ•°æ®
â”‚   â”œâ”€â”€ raw_cleaned/                # æ¸…æ´—åæ•°æ®
â”‚   â”œâ”€â”€ processed/                  # ç‰¹å¾å·¥ç¨‹åæ•°æ®
â”‚   â”‚   â”œâ”€â”€ all_stocks.parquet     # å…¨å¸‚åœºç‰¹å¾æ•°æ®
â”‚   â”‚   â””â”€â”€ selected_features.txt  # ç­›é€‰åçš„ç‰¹å¾åˆ—è¡¨
â”‚   â”œâ”€â”€ models/                     # æ¨¡å‹æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ {version}/
â”‚   â”‚       â”œâ”€â”€ model_return.ubj   # æ”¶ç›Šé¢„æµ‹æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ model_risk.ubj     # é£é™©é¢„æµ‹æ¨¡å‹
â”‚   â”‚       â””â”€â”€ predictions.parquet # é¢„æµ‹ç»“æœ
â”‚   â”œâ”€â”€ meta/                       # å…ƒæ•°æ®
â”‚   â”‚   â””â”€â”€ all_stocks_meta.parquet # è‚¡ç¥¨æ± ä¿¡æ¯
â”‚   â”œâ”€â”€ index/                      # æŒ‡æ•°æ•°æ®
â”‚   â””â”€â”€ live_trading/               # å®ç›˜é…ç½®
â”‚
â”œâ”€â”€ src/                             # æ ¸å¿ƒä»£ç åº“
â”‚   â”œâ”€â”€ data_source/                # æ•°æ®æºæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ base.py                # æ•°æ®æºæŠ½è±¡åŸºç±»
â”‚   â”‚   â”œâ”€â”€ baostock_source.py     # Baostockæ•°æ®æº
â”‚   â”‚   â”œâ”€â”€ akshare_source.py      # Akshareæ•°æ®æº
â”‚   â”‚   â””â”€â”€ datahub.py             # ç»Ÿä¸€æ•°æ®æ¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ preprocessing/              # é¢„å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ features.py            # ç‰¹å¾ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ labels.py              # æ ‡ç­¾ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ neutralization.py      # ç‰¹å¾ä¸­æ€§åŒ–
â”‚   â”‚   â””â”€â”€ pipeline.py            # å®Œæ•´é¢„å¤„ç†æµæ°´çº¿
â”‚   â”‚
â”‚   â”œâ”€â”€ model/                      # æ¨¡å‹æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ xgb_model.py           # XGBoostæ¨¡å‹å°è£…
â”‚   â”‚   â”œâ”€â”€ lgb_model.py           # LightGBMæ¨¡å‹å°è£…
â”‚   â”‚   â”œâ”€â”€ trainer.py             # è®­ç»ƒå™¨ï¼ˆæ”¯æŒåŒå¤´æ¨¡å‹ï¼‰
â”‚   â”‚   â””â”€â”€ training_monitor.py    # TensorBoardç›‘æ§
â”‚   â”‚
â”‚   â”œâ”€â”€ strategy/                   # ç­–ç•¥æ¨¡å—
â”‚   â”‚   â””â”€â”€ signal.py              # ä¿¡å·ç”Ÿæˆå™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ backtest/                   # å›æµ‹æ¨¡å—
â”‚   â”‚   â””â”€â”€ backtester.py          # å‘é‡åŒ–å›æµ‹å¼•æ“
â”‚   â”‚
â”‚   â”œâ”€â”€ analysis/                   # åˆ†ææ¨¡å—
â”‚   â”‚   â”œâ”€â”€ eda_engine.py          # æ¢ç´¢æ€§æ•°æ®åˆ†æ
â”‚   â”‚   â”œâ”€â”€ factor_checker.py      # å› å­åˆ†æ
â”‚   â”‚   â”œâ”€â”€ horizon_analyzer.py    # æ—¶é—´è¡°å‡åˆ†æ
â”‚   â”‚   â””â”€â”€ model_interpreter.py   # æ¨¡å‹è§£é‡Šï¼ˆSHAPï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ live/                       # å®ç›˜æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ xueqiu_broker.py       # é›ªçƒäº¤æ˜“æ¥å£
â”‚   â”‚   â”œâ”€â”€ trading_scheduler.py   # äº¤æ˜“è°ƒåº¦å™¨
â”‚   â”‚   â”œâ”€â”€ trade_recorder.py      # äº¤æ˜“è®°å½•å™¨
â”‚   â”‚   â””â”€â”€ config.py              # å®ç›˜é…ç½®
â”‚   â”‚
â”‚   â””â”€â”€ utils/                      # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ config.py              # é…ç½®åŠ è½½å™¨
â”‚       â”œâ”€â”€ logger.py              # æ—¥å¿—å·¥å…·
â”‚       â””â”€â”€ io.py                  # IOå·¥å…·
â”‚
â”œâ”€â”€ scripts/                         # å¯æ‰§è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ date_landing/               # æ•°æ®ä¸‹è½½
â”‚   â”œâ”€â”€ feature_create/             # ç‰¹å¾ç”Ÿæˆ
â”‚   â”œâ”€â”€ model_train/                # æ¨¡å‹è®­ç»ƒ
â”‚   â”œâ”€â”€ analisis/                   # åˆ†æè„šæœ¬
â”‚   â”œâ”€â”€ back_test/                  # å›æµ‹ä¸æ¨è
â”‚   â”œâ”€â”€ live/                       # å®ç›˜è¿è¡Œ
â”‚   â””â”€â”€ tools/                      # è¾…åŠ©å·¥å…·
â”‚
â”œâ”€â”€ docs/                            # æ–‡æ¡£
â”œâ”€â”€ architecture/                    # æ¶æ„æ–‡æ¡£
â””â”€â”€ logs/                            # æ—¥å¿—æ–‡ä»¶
```

---

## ğŸ”§ æ ¸å¿ƒè„šæœ¬è¯´æ˜

### 1ï¸âƒ£ æ•°æ®è·å–æ¨¡å— (`scripts/date_landing/`)

| è„šæœ¬ | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| `init_stock_pool.py` | åˆå§‹åŒ–è‚¡ç¥¨æ± ï¼Œè·å–å…¨å¸‚åœºè‚¡ç¥¨åˆ—è¡¨ | config/main.yaml | data/meta/all_stocks_meta.parquet |
| `download_data.py` | æ‰¹é‡ä¸‹è½½å†å²è¡Œæƒ…æ•°æ® | è‚¡ç¥¨æ±  | data/raw/{symbol}.parquet |
| `update_data.py` | å¢é‡æ›´æ–°æœ€æ–°è¡Œæƒ…æ•°æ® | å·²æœ‰æ•°æ® | æ›´æ–°data/raw/ |
| `auto_run.py` | è‡ªåŠ¨åŒ–æ•°æ®æ›´æ–°ä»»åŠ¡ï¼ˆå®šæ—¶è¿è¡Œï¼‰ | - | è‡ªåŠ¨æ›´æ–°æ•°æ® |

**æ ¸å¿ƒæµç¨‹**ï¼š
```
åˆå§‹åŒ–è‚¡ç¥¨æ±  â†’ ä¸‹è½½å†å²æ•°æ® â†’ å®šæœŸå¢é‡æ›´æ–°
```

---

### 2ï¸âƒ£ ç‰¹å¾å·¥ç¨‹æ¨¡å— (`scripts/feature_create/`)

| è„šæœ¬ | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| `rebuild_features.py` | æ‰§è¡Œå®Œæ•´çš„ç‰¹å¾å·¥ç¨‹æµæ°´çº¿ | data/raw/ | data/processed/all_stocks.parquet |

**ç”Ÿæˆçš„ç‰¹å¾ç±»å‹**ï¼š
- **åŸºç¡€ç‰¹å¾**ï¼šå¯¹æ•°æ”¶ç›Šç‡ã€æŒ¯å¹…
- **å‡çº¿ç‰¹å¾**ï¼šMA5/10/20/60 ä¹–ç¦»ç‡
- **æŠ€æœ¯æŒ‡æ ‡**ï¼šMACDã€RSIã€KDJã€å¸ƒæ—å¸¦
- **é‡èƒ½ç‰¹å¾**ï¼šæˆäº¤é‡æ¯”ç‡ã€æ¢æ‰‹ç‡
- **æ³¢åŠ¨ç‡ç‰¹å¾**ï¼šATRã€æ ‡å‡†å·®
- **æ–œç‡ç‰¹å¾**ï¼šRSIæ–œç‡ã€MACDæ–œç‡ã€å‡çº¿è§’åº¦
- **é‡ä»·ç›¸å…³æ€§**ï¼šä»·æ ¼ä¸æˆäº¤é‡çš„æ»šåŠ¨ç›¸å…³ç³»æ•°
- **å¸‚å€¼ç‰¹å¾**ï¼šå¯¹æ•°å¸‚å€¼

**ç”Ÿæˆçš„æ ‡ç­¾ç±»å‹**ï¼š
- **æ”¶ç›Šæ ‡ç­¾** (`label`)ï¼šNæ—¥åçš„è¶…é¢æ”¶ç›Šï¼ˆç›¸å¯¹æŒ‡æ•°ï¼‰
- **é£é™©æ ‡ç­¾** (`label_risk`)ï¼šä¸‹è¡Œåå·®/æ³¢åŠ¨ç‡/æœ€å¤§å›æ’¤

---

### 3ï¸âƒ£ æ¨¡å‹è®­ç»ƒæ¨¡å— (`scripts/model_train/`)

| è„šæœ¬ | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| `train_model.py` | å•æ¬¡æ¨¡å‹è®­ç»ƒ | all_stocks.parquet | data/models/{version}/ |
| `run_walkforward.py` | Walk-Forwardæ»šåŠ¨è®­ç»ƒï¼ˆæŒ‰å¹´ï¼‰ | all_stocks.parquet | å¤šä¸ªå¹´åº¦æ¨¡å‹ |
| `run_inference_update.py` | ä½¿ç”¨å·²è®­ç»ƒæ¨¡å‹è¿›è¡Œæ¨ç† | æ¨¡å‹ + æ–°æ•°æ® | predictions.parquet |

**æ¨¡å‹æ¶æ„**ï¼š
- **åŒå¤´æ¨¡å‹**ï¼ˆDual-Head Modelï¼‰
  - **æ”¶ç›Šé¢„æµ‹å¤´**ï¼šé¢„æµ‹æœªæ¥Næ—¥çš„è¶…é¢æ”¶ç›Š
  - **é£é™©é¢„æµ‹å¤´**ï¼šé¢„æµ‹æœªæ¥Næ—¥çš„ä¸‹è¡Œé£é™©
  - **èåˆç­–ç•¥**ï¼šSharpe-likeæ¯”ç‡ã€æ•ˆç”¨å‡½æ•°ã€æ’åæ¯”ç‡ç­‰

**æ”¯æŒçš„æ¨¡å‹ç±»å‹**ï¼š
- XGBoostï¼ˆGPUåŠ é€Ÿï¼‰
- LightGBM

**è®­ç»ƒç›‘æ§**ï¼š
- TensorBoardå®æ—¶ç›‘æ§è®­ç»ƒè¿‡ç¨‹
- è®°å½•æŸå¤±æ›²çº¿ã€ç‰¹å¾é‡è¦æ€§ã€è¶…å‚æ•°

---

### 4ï¸âƒ£ åˆ†æéªŒè¯æ¨¡å— (`scripts/analisis/`)

| è„šæœ¬ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `run_eda.py` | æ¢ç´¢æ€§æ•°æ®åˆ†æ | æ•°æ®åˆ†å¸ƒã€å¼‚å¸¸æ£€æµ‹ã€ç¼ºå¤±å€¼åˆ†æ |
| `check_features.py` | å› å­åˆ†æ | ICå€¼ã€ç›¸å…³æ€§ã€ç‰¹å¾é‡è¦æ€§ |
| `check_time_horizon.py` | æ—¶é—´è¡°å‡åˆ†æ | é¢„æµ‹ä¿¡å·çš„æœ‰æ•ˆæœŸåˆ†æ |
| `explain_model.py` | æ¨¡å‹è§£é‡Š | SHAPå€¼åˆ†æã€ç‰¹å¾è´¡çŒ®åº¦ |
| `check_overfit.py` | è¿‡æ‹Ÿåˆæ£€æµ‹ | éšæœºæ ‡ç­¾æµ‹è¯•ã€è®­ç»ƒé›†vséªŒè¯é›†å¯¹æ¯” |
| `check_monte_carlo.py` | è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ | å™ªå£°æ•æ„Ÿæ€§ã€æƒé‡æ‰°åŠ¨æµ‹è¯• |
| `check_stress_test.py` | å‹åŠ›æµ‹è¯• | ç†Šå¸‚ç”Ÿå­˜æµ‹è¯•ã€æˆæœ¬æ•æ„Ÿæ€§åˆ†æ |
| `signal_diagnosis.py` | ä¿¡å·è¯Šæ–­ | æŒä»“åˆ†å¸ƒã€æ¢æ‰‹ç‡ã€åŠ¨é‡åˆ†æ |
| `check_return_distribution.py` | æ”¶ç›Šåˆ†å¸ƒåˆ†æ | æ”¶ç›Šç‡åˆ†å¸ƒã€ååº¦ã€å³°åº¦ |
| `check_result_validity.py` | ç»“æœæœ‰æ•ˆæ€§æ£€éªŒ | ç»Ÿè®¡æ˜¾è‘—æ€§æµ‹è¯• |
| `feature_selector.py` | ç‰¹å¾ç­›é€‰ | åŸºäºICå’Œç›¸å…³æ€§è‡ªåŠ¨ç­›é€‰ç‰¹å¾ |
| `return_attribution.py` | æ”¶ç›Šå½’å› åˆ†æ | åˆ†è§£æ”¶ç›Šæ¥æº |
| `analyze_threshold.py` | é˜ˆå€¼åˆ†æ | ä¼˜åŒ–é€‰è‚¡é˜ˆå€¼ |
| `clean_and_check.py` | æ•°æ®æ¸…æ´—ä¸æ£€æŸ¥ | æ•°æ®è´¨é‡æ£€æŸ¥ |

---

### 5ï¸âƒ£ å›æµ‹ä¸æ¨èæ¨¡å— (`scripts/back_test/`)

| è„šæœ¬ | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| `run_backtest.py` | å†å²å›æµ‹ | predictions.parquet | å›æµ‹æŠ¥å‘Šã€å‡€å€¼æ›²çº¿ |
| `run_recommendation.py` | ç”Ÿæˆæ¨èåˆ—è¡¨ | æœ€æ–°é¢„æµ‹ | æ¨èè‚¡ç¥¨åˆ—è¡¨ |

**å›æµ‹å¼•æ“ç‰¹æ€§**ï¼š
- **å‘é‡åŒ–è®¡ç®—**ï¼šé«˜æ•ˆå¤„ç†å¤§è§„æ¨¡æ•°æ®
- **å¤šç§ä¹°å…¥æ¨¡å¼**ï¼šå¼€ç›˜ä»·/å‡ä»·/æ”¶ç›˜ä»·
- **æ¢ä»“æ¨¡å¼**ï¼šæ»šåŠ¨æ¢ä»“/å®šæœŸæ¢ä»“
- **æˆæœ¬æ¨¡æ‹Ÿ**ï¼šäº¤æ˜“æˆæœ¬ã€æ»‘ç‚¹ã€æ¶¨åœæ— æ³•ä¹°å…¥
- **ç»©æ•ˆæŒ‡æ ‡**ï¼šå¹´åŒ–æ”¶ç›Šã€å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤ã€èƒœç‡

---

### 6ï¸âƒ£ å®ç›˜äº¤æ˜“æ¨¡å— (`scripts/live/`)

| è„šæœ¬ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `check_xq_cookie.py` | æ£€æŸ¥é›ªçƒCookieæœ‰æ•ˆæ€§ | éªŒè¯ç™»å½•çŠ¶æ€ |
| `run_weekly_rebalance.py` | å‘¨åº¦è°ƒä»“ | æ¯å‘¨æ‰§è¡Œä¸€æ¬¡è°ƒä»“ |
| `run_auto_trading.py` | è‡ªåŠ¨äº¤æ˜“ | è‡ªåŠ¨æ‰§è¡Œä¹°å–æ“ä½œ |

**å®ç›˜å¯¹æ¥**ï¼š
- æ”¯æŒé›ªçƒç»„åˆäº¤æ˜“
- è‡ªåŠ¨è¯»å–æŒä»“ã€æ‰§è¡Œè°ƒä»“
- è®°å½•äº¤æ˜“æ—¥å¿—

---

### 7ï¸âƒ£ è¾…åŠ©å·¥å…· (`scripts/tools/`)

| è„šæœ¬ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `start_tensorboard.py` | å¯åŠ¨TensorBoard | å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ |
| `optimize_risk_aversion.py` | ä¼˜åŒ–é£é™©åŒæ¶ç³»æ•° | ç½‘æ ¼æœç´¢æœ€ä¼˜å‚æ•° |

---

## ğŸ”„ å…¸å‹ä½¿ç”¨æµç¨‹

### åœºæ™¯1ï¼šé¦–æ¬¡ä½¿ç”¨ï¼ˆå®Œæ•´æµç¨‹ï¼‰

```bash
# 1. åˆå§‹åŒ–è‚¡ç¥¨æ± 
python scripts/date_landing/init_stock_pool.py

# 2. ä¸‹è½½å†å²æ•°æ®
python scripts/date_landing/download_data.py

# 3. ç”Ÿæˆç‰¹å¾
python scripts/feature_create/rebuild_features.py

# 4. è®­ç»ƒæ¨¡å‹ï¼ˆWalk-Forwardï¼‰
python scripts/model_train/run_walkforward.py

# 5. åˆ†æéªŒè¯
python scripts/analisis/run_eda.py
python scripts/analisis/check_features.py
python scripts/analisis/explain_model.py

# 6. å›æµ‹
python scripts/back_test/run_backtest.py

# 7. ç”Ÿæˆæ¨è
python scripts/back_test/run_recommendation.py
```

### åœºæ™¯2ï¼šæ—¥å¸¸æ›´æ–°

```bash
# 1. æ›´æ–°æ•°æ®
python scripts/date_landing/update_data.py

# 2. é‡æ–°ç”Ÿæˆç‰¹å¾
python scripts/feature_create/rebuild_features.py

# 3. æ¨ç†æ›´æ–°
python scripts/model_train/run_inference_update.py

# 4. ç”Ÿæˆæ¨è
python scripts/back_test/run_recommendation.py
```

### åœºæ™¯3ï¼šå®ç›˜äº¤æ˜“

```bash
# 1. æ£€æŸ¥Cookie
python scripts/live/check_xq_cookie.py

# 2. å‘¨åº¦è°ƒä»“ï¼ˆæ¯å‘¨ä¸€è¿è¡Œï¼‰
python scripts/live/run_weekly_rebalance.py
```

---

## ğŸ“Š æ•°æ®æµå›¾

```mermaid
graph LR
    A[åŸå§‹æ•°æ®æº] -->|ä¸‹è½½| B[data/raw/]
    B -->|ç‰¹å¾å·¥ç¨‹| C[data/processed/all_stocks.parquet]
    C -->|è®­ç»ƒ| D[data/models/{version}/]
    D -->|é¢„æµ‹| E[predictions.parquet]
    E -->|å›æµ‹| F[å›æµ‹æŠ¥å‘Š]
    E -->|æ¨è| G[æ¨èåˆ—è¡¨]
    G -->|å®ç›˜| H[é›ªçƒäº¤æ˜“]
```

---

## ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **é…ç½®é©±åŠ¨**ï¼šæ‰€æœ‰å‚æ•°é›†ä¸­åœ¨ `config/main.yaml`
2. **æ¨¡å—è§£è€¦**ï¼šæ•°æ®æºã€ç‰¹å¾ã€æ¨¡å‹ã€ç­–ç•¥ç‹¬ç«‹å¯æ›¿æ¢
3. **æ•°æ®å¥‘çº¦**ï¼šç»Ÿä¸€çš„æ•°æ®æ ¼å¼ï¼ˆparquetï¼‰å’Œåˆ—å‘½åè§„èŒƒ
4. **å‘é‡åŒ–è®¡ç®—**ï¼šé¿å…å¾ªç¯ï¼Œæå‡æ€§èƒ½
5. **å¯å¤ç°æ€§**ï¼šå›ºå®šéšæœºç§å­ã€è®°å½•å®Œæ•´æ—¥å¿—

---

## ğŸ“ å‘½åè§„èŒƒ

| ç±»å‹ | å‰ç¼€ | ç¤ºä¾‹ |
|------|------|------|
| ç‰¹å¾åˆ— | `feat_` | `feat_rsi_14`, `feat_macd` |
| æ ‡ç­¾åˆ— | `label_` | `label`, `label_risk` |
| é¢„æµ‹åˆ— | `pred_` | `pred_return`, `pred_risk`, `pred_score` |
| é…ç½®ç‰ˆæœ¬ | æ—¶é—´æˆ³ | `20250119_173534` |

---

## ğŸ”§ å…³é”®é…ç½®é¡¹

### æ•°æ®é…ç½®
- `data.source`: æ•°æ®æºé€‰æ‹©ï¼ˆbaostock/akshareï¼‰
- `data.stock_pool`: è‚¡ç¥¨æ± è¿‡æ»¤è§„åˆ™

### ç‰¹å¾é…ç½®
- `preprocessing.features`: å¯ç”¨çš„ç‰¹å¾ç±»å‹
- `preprocessing.labels.horizon`: é¢„æµ‹å‘¨æœŸï¼ˆå¤©æ•°ï¼‰
- `preprocessing.labels.return_mode`: æ”¶ç›Šæ¨¡å¼ï¼ˆabsolute/excess_indexï¼‰

### æ¨¡å‹é…ç½®
- `model.dual_head.enable`: æ˜¯å¦å¯ç”¨åŒå¤´æ¨¡å‹
- `model.dual_head.fusion.method`: èåˆæ–¹æ³•ï¼ˆsharpe_like/utility/rank_ratioï¼‰
- `model.walk_forward.enable`: æ˜¯å¦å¯ç”¨æ»šåŠ¨è®­ç»ƒ

### ç­–ç•¥é…ç½®
- `strategy.top_k`: é€‰è‚¡æ•°é‡
- `strategy.rebalance_mode`: æ¢ä»“æ¨¡å¼ï¼ˆrolling/periodicï¼‰
- `strategy.entry_price`: ä¹°å…¥ä»·æ ¼æ¨¡å¼ï¼ˆopen/vwap/closeï¼‰

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

åŸºäºå†å²å›æµ‹ï¼ˆ2017-2024ï¼‰ï¼š
- **å¹´åŒ–æ”¶ç›Šç‡**ï¼š~78%
- **å¤æ™®æ¯”ç‡**ï¼š~5.75
- **æœ€å¤§å›æ’¤**ï¼š~-15%
- **èƒœç‡**ï¼š~65%

---

## ğŸš€ æœªæ¥è§„åˆ’

- [ ] æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆLSTM/Transformerï¼‰
- [ ] å¤šå› å­èåˆæ¡†æ¶
- [ ] Webå¯è§†åŒ–ç•Œé¢
- [ ] æ›´å¤šåˆ¸å•†APIå¯¹æ¥
- [ ] å®æ—¶è¡Œæƒ…æ¥å…¥

---

**æ–‡æ¡£ç»´æŠ¤è€…**ï¼šQuant Team  
**æœ€åæ›´æ–°**ï¼š2025-01-19
</contents>