# 📊 基础数据质量与探索性分析报告 (EDA Report)

**适用范围**：`data/raw` 与 `data/raw_cleaned` 阶段的数据。  
**生成脚本**：`python scripts/run_eda.py`  
**目标受众**：数据工程师、量化研究员。

---

## 1. 概述 (Executive Summary)

本报告旨在验证清洗后的 A 股行情数据是否满足机器学习训练的基本要求。主要关注以下三个维度：

1.  **数据清洗有效性**：是否成功剔除了长期停牌和流动性枯竭的标的。
2.  **数据源准确性**：价格是否复权，走势是否与大盘对齐。
3.  **市场微观结构**：涨跌停板限制、收益率分布特征及自相关性。

**✅ 结论速览**：如果下列图表符合“理想形态”，说明数据**干净且可用**，可以进入特征工程阶段。

---

## 2. 数据质量核查 (Data Quality Check)

此部分用于确认 `clean_and_check.py` 的清洗逻辑是否生效。

### 2.1 停牌率分布 (Suspension Ratio)

* **对应文件**: `dist_suspension.png`
* **图表解读**:
    * **X 轴 (Suspension Ratio)**: 停牌时间占比（0.1 代表历史上有 10% 的时间在停牌）。
    * **Y 轴 (Count)**: 股票数量。
* **✅ 理想形态**:
    * 数据应高度集中在左侧（0.0 ~ 0.05）。
    * **关键点**：在 **0.1 (10%)** 处应该有明显的截断（Cut-off）。这意味着我们的清洗脚本成功剔除了“三天两头停牌”的垃圾股。
* **⚠️ 警示信号**: 如果 X 轴延伸到了 0.3 或 0.5，说明清洗阈值失效，这些股票会导致技术指标（如 MA60）计算中断。

### 2.2 流动性/换手率分布 (Liquidity Distribution)

* **对应文件**: `dist_liquidity.png`
* **图表解读**:
    * **X 轴**: 日均换手率 (Turnover Ratio %)。
    * **Y 轴**: 频次分布。
* **✅ 理想形态**:
    * 呈现**对数正态分布**（长尾分布）。
    * 大部分数据应位于 **1% ~ 5%** 区间。
    * 左侧（0% ~ 1%）的数据应该很少，说明我们剔除了无人交易的“僵尸股”。
* **实战意义**: 换手率过低会导致实盘买入时产生巨大的滑点（Slippage），必须在训练前剔除。

### 2.3 价格走势对齐 (Price Alignment Check)

* **对应文件**: `check_alignment.png`
* **图表解读**:
    * **黑色虚线**: 基准指数（如沪深300）归一化走势。
    * **彩色实线**: 随机抽样的个股走势。
* **✅ 理想形态**:
    * **时间轴对齐**：个股的剧烈波动（如 2024 年初的流动性危机、9 月底的政策牛）应与指数在时间上严格同步。
    * **无断层**：线条应该是连续的，没有突然的垂直下跌（除非是真实的跌停），这验证了复权处理（Adjusted Price）的正确性。

---

## 3. 市场统计特征 (Statistical Properties)

此部分用于确认数据是否符合 A 股市场的基本金融学特征。

### 3.1 日收益率分布 (Daily Return Distribution)

* **对应文件**: `dist_returns.png`
* **图表解读**:
    * 展示了全市场所有股票的日涨跌幅分布。
* **✅ 理想形态**:
    * **尖峰肥尾 (Leptokurtic)**：中间极高，两边拖着长尾巴。
    * **涨跌停截断**：在 **+/- 0.10 (10%)** 处应有明显的小凸起或截断。这是 A 股主板涨跌停限制的直接体现。
* **⚠️ 警示信号**:
    * 如果分布范围达到了 +/- 50%，说明数据包含了**未复权**的价格（除权除息造成的缺口），这是严重错误。
    * 如果分布是完美的正态分布（没有尖峰），说明数据可能是合成的假数据。

### 3.2 收益率自相关性 (Autocorrelation Lag-1)

* **对应文件**: `dist_autocorr.png`
* **图表解读**:
    * 衡量“昨天的涨跌”对“今天的涨跌”有多大影响。
    * **Mean > 0**: 动量效应（强者恒强）。
    * **Mean < 0**: 反转效应（涨多必跌）。
* **✅ 理想形态**:
    * A 股通常呈现**微弱的动量或反转**（Mean 在 0.05 或 -0.05 左右）。
    * 图表应呈现以 0 为中心或略偏离 0 的正态分布。
* **实战意义**:
    * 如果 Mean = 0.0773 (如示例)，说明市场存在短期动量。这为我们在特征工程中加入动量因子（Momentum Features）提供了理论依据。

---

## 4. 异常数据清单 (Anomalies Report)

* **对应文件**: `reports/eda/xxxx/high_suspension_stocks.csv` (如有)
* **用途**:
    * 该文件列出了所有未通过质检的“问题股票”。
    * **操作建议**: 检查此名单，如果在后续回测中发现某只股票收益率异常高，先核对它是否在这个黑名单里（可能是数据错误导致的虚假收益）。

---

**文档维护者**: Quant_A_Share Team  
**最后更新**: 2025-12-07